[{
    "TrainingJobName": "huggingface-pytorch-training-2024-09-04-19-54-04-609",
    "TrainingJobArn": "arn:aws:sagemaker:us-west-2:059094755717:training-job/huggingface-pytorch-training-2024-09-04-19-54-04-609",
    "ModelArtifacts": {
        "S3ModelArtifacts": "s3://sagemaker-us-west-2-059094755717/huggingface-pytorch-training-2024-09-04-19-54-04-609/output/model"
    },
    "TrainingJobStatus": "Completed",
    "SecondaryStatus": "Completed",
    "HyperParameters": {
        "access_token": "\"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\"",
        "bf16": "true",
        "dataset_path": "\"/opt/ml/input/data/train\"",
        "epochs": "1",
        "fsdp": "\"\\\"full_shard auto_wrap\\\"\"",
        "fsdp_transformer_layer_cls_to_wrap": "\"LlamaDecoderLayer\"",
        "gradient_checkpointing": "true",
        "max_steps": "100",
        "model_id": "\"meta-llama/Llama-2-7b-hf\"",
        "optimizer": "\"adamw_torch\"",
        "per_device_train_batch_size": "1",
        "sagemaker_container_log_level": "20",
        "sagemaker_instance_type": "\"ml.p4d.24xlarge\"",
        "sagemaker_job_name": "\"huggingface-pytorch-training-2024-09-04-19-54-04-609\"",
        "sagemaker_program": "\"run_clm_no_trainer.py\"",
        "sagemaker_region": "\"us-west-2\"",
        "sagemaker_submit_directory": "\"s3://sagemaker-us-west-2-059094755717/huggingface-pytorch-training-2024-09-04-19-54-04-609/source/sourcedir.tar.gz\"",
        "sagemaker_torch_distributed_enabled": "true"
    },
    "AlgorithmSpecification": {
        "TrainingImage": "763104351884.dkr.ecr.us-west-2.amazonaws.com/huggingface-pytorch-training:2.0.0-transformers4.28.1-gpu-py310-cu118-ubuntu20.04",
        "TrainingInputMode": "File",
        "EnableSageMakerMetricsTimeSeries": true
    },
    "RoleArn": "arn:aws:iam::059094755717:role/Admin",
    "InputDataConfig": [
        {
            "ChannelName": "train",
            "DataSource": {
                "S3DataSource": {
                    "S3DataType": "S3Prefix",
                    "S3Uri": "s3://sagemaker-us-west-2-059094755717/processed/data/",
                    "S3DataDistributionType": "FullyReplicated"
                }
            },
            "CompressionType": "None",
            "RecordWrapperType": "None"
        }
    ],
    "OutputDataConfig": {
        "KmsKeyId": "",
        "S3OutputPath": "s3://sagemaker-us-west-2-059094755717/",
        "CompressionType": "NONE"
    },
    "ResourceConfig": {
        "InstanceType": "ml.p4d.24xlarge",
        "InstanceCount": 2,
        "VolumeSizeInGB": 96,
        "KeepAlivePeriodInSeconds": 600
    },
    "WarmPoolStatus": {
        "Status": "Terminated",
        "ResourceRetainedBillableTimeInSeconds": 0
    },
    "StoppingCondition": {
        "MaxRuntimeInSeconds": 86400
    },
    "CreationTime": "2024-09-04T19:54:05.475000+00:00",
    "TrainingStartTime": "2024-09-04T20:00:10.809000+00:00",
    "TrainingEndTime": "2024-09-04T20:19:05.221000+00:00",
    "LastModifiedTime": "2024-09-04T20:19:05.878000+00:00",
    "SecondaryStatusTransitions": [
        {
            "Status": "Starting",
            "StartTime": "2024-09-04T19:54:05.475000+00:00",
            "EndTime": "2024-09-04T19:54:07.736000+00:00",
            "StatusMessage": "Starting the training job"
        },
        {
            "Status": "Pending",
            "StartTime": "2024-09-04T19:54:07.736000+00:00",
            "EndTime": "2024-09-04T20:00:10.809000+00:00",
            "StatusMessage": "Preparing the instances for training"
        },
        {
            "Status": "Downloading",
            "StartTime": "2024-09-04T20:00:10.809000+00:00",
            "EndTime": "2024-09-04T20:03:43.417000+00:00",
            "StatusMessage": "Downloading the training image"
        },
        {
            "Status": "Training",
            "StartTime": "2024-09-04T20:03:43.417000+00:00",
            "EndTime": "2024-09-04T20:18:22.514000+00:00",
            "StatusMessage": "Training image download completed. Training in progress."
        },
        {
            "Status": "Uploading",
            "StartTime": "2024-09-04T20:18:22.514000+00:00",
            "EndTime": "2024-09-04T20:19:05.221000+00:00",
            "StatusMessage": "Uploading generated training model"
        },
        {
            "Status": "Completed",
            "StartTime": "2024-09-04T20:19:05.221000+00:00",
            "EndTime": "2024-09-04T20:19:05.221000+00:00",
            "StatusMessage": "Instances not retained as a result of warmpool resource limits being exceeded"
        }
    ],
    "EnableNetworkIsolation": false,
    "EnableInterContainerTrafficEncryption": false,
    "EnableManagedSpotTraining": false,
    "TrainingTimeInSeconds": 1135,
    "BillableTimeInSeconds": 1135,
    "DebugHookConfig": {
        "S3OutputPath": "s3://sagemaker-us-west-2-059094755717/",
        "CollectionConfigurations": []
    },
    "ProfilerConfig": {
        "S3OutputPath": "s3://sagemaker-us-west-2-059094755717/",
        "ProfilingIntervalInMilliseconds": 500,
        "DisableProfiler": false
    },
    "ProfilingStatus": "Enabled",
    "Environment": {
        "FI_EFA_USE_DEVICE_RDMA": "1",
        "FI_PROVIDER": "efa",
        "NCCL_PROTO": "simple",
        "RDMAV_FORK_SAFE": "1"
    }
},
{
    "TrainingJobName": "huggingface-pytorch-training-20240904140836",
    "TrainingJobArn": "arn:aws:sagemaker:us-west-2:059094755717:training-job/huggingface-pytorch-training-20240904140836",
    "TrainingJobStatus": "InProgress",
    "SecondaryStatus": "Pending",
    "AlgorithmSpecification": {
        "TrainingImage": "763104351884.dkr.ecr.us-west-2.amazonaws.com/huggingface-pytorch-training:2.0.0-transformers4.28.1-gpu-py310-cu118-ubuntu20.04",
        "TrainingInputMode": "File",
        "EnableSageMakerMetricsTimeSeries": false,
        "ContainerEntrypoint": [
            "torchrun"
        ],
        "ContainerArguments": [
            "--nnodes",
            "2",
            "--nproc_per_node",
            "8",
            "--master_addr",
            "algo-1",
            "--master_port",
            "7777",
            "/opt/ml/input/data/code/run_clm_no_trainer.py",
            "--bf16",
            "True",
            "--dataset_path",
            "/opt/ml/input/data/dataset",
            "--epochs",
            "1",
            "--max_steps",
            "100",
            "--fsdp",
            "full_shard auto_wrap",
            "--fsdp_transformer_layer_cls_to_wrap",
            "LlamaDecoderLayer",
            "--gradient_checkpointing",
            "True",
            "--optimizer",
            "adamw_torch",
            "--per_device_train_batch_size",
            "1",
            "--model_id",
            "meta-llama/Llama-2-7b-hf",
            "--access_token",
            "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"
        ]
    },
    "RoleArn": "arn:aws:iam::059094755717:role/Admin",
    "InputDataConfig": [
        {
            "ChannelName": "dataset",
            "DataSource": {
                "S3DataSource": {
                    "S3DataType": "S3Prefix",
                    "S3Uri": "s3://sagemaker-us-west-2-059094755717/huggingface-pytorch-training/input/dataset",
                    "S3DataDistributionType": "ShardedByS3Key"
                }
            },
            "CompressionType": "None",
            "RecordWrapperType": "None",
            "InputMode": "File"
        },
        {
            "ChannelName": "code",
            "DataSource": {
                "S3DataSource": {
                    "S3DataType": "S3Prefix",
                    "S3Uri": "s3://sagemaker-us-west-2-059094755717/huggingface-pytorch-training/input/code",
                    "S3DataDistributionType": "FullyReplicated"
                }
            },
            "CompressionType": "None",
            "RecordWrapperType": "None",
            "InputMode": "File"
        }
    ],
    "OutputDataConfig": {
        "KmsKeyId": "",
        "S3OutputPath": "s3://sagemaker-us-west-2-059094755717/huggingface-pytorch-training/output/",
        "CompressionType": "GZIP"
    },
    "ResourceConfig": {
        "InstanceType": "ml.p4d.24xlarge",
        "InstanceCount": 2,
        "VolumeSizeInGB": 96
    },
    "StoppingCondition": {
        "MaxRuntimeInSeconds": 86400
    },
    "CreationTime": "2024-09-04T21:08:40.539000+00:00",
    "LastModifiedTime": "2024-09-04T21:09:16.968000+00:00",
    "SecondaryStatusTransitions": [
        {
            "Status": "Starting",
            "StartTime": "2024-09-04T21:08:40.539000+00:00",
            "EndTime": "2024-09-04T21:08:40.799000+00:00",
            "StatusMessage": "Starting the training job"
        },
        {
            "Status": "Pending",
            "StartTime": "2024-09-04T21:08:40.799000+00:00",
            "StatusMessage": "Preparing the instances for training"
        }
    ],
    "EnableNetworkIsolation": false,
    "EnableInterContainerTrafficEncryption": false,
    "EnableManagedSpotTraining": false,
    "ProfilingStatus": "Disabled",
    "Environment": {
        "FI_EFA_USE_DEVICE_RDMA": "1",
        "FI_PROVIDER": "efa",
        "NCCL_PROTO": "simple",
        "RDMAV_FORK_SAFE": "1",
        "SM_CHANNEL_CODE": "/opt/ml/input/data/code",
        "SM_CHANNEL_DATASET": "/opt/ml/input/data/dataset",
        "SM_MODEL_DIR": "/opt/ml/model"
    }







}]